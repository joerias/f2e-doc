## 前言

前端开发在编写公司项目代码的原则和思路：  
* 符合web标准（UTF-8，HTML5）。
* 语义化html（HTML5新增要求，减少div和span等无特定语义的标签使用）。
* 结构表现行为分离（HTML-CSS-JS代码分离，不同行为代码高内聚低耦合）。
* 兼容性优良（前台类网站要保持多浏览器基本一致，移动端和PC端设备兼容，vue类网站要保持支持的浏览器兼容）。
* 页面性能方面（减少请求次数，例如使用精灵图和预编译css语法）。
* 代码要求简洁明了有序，尽可能的减小服务器负载，保证最快的解析速度（减小repaint和reflow）。

## 文件命名规范

* html，css，js，lib，img文件均存放至项目的目录中。如果使用相关前端框架，根据框架的文件格式进行合理布局。
* 所有文件夹及文件使用英文命名（避免使用中文路径）。
* html文件：入口文件使用index.html。每个频道和栏目按照英文称呼原则酌情做到清晰命名。
* css文件命名：后缀.css（推荐使用预编译的css工具，建议使用sass或者stylus）。通用initial.css，初始化base.css，首页index.css，其他页面按照对应的html命名。
* Js文件命名：英文命名，后缀.js.通用common.js，初始化base.js。 其他页面按照对应的html命名。

---

## 基础规则

### HTML规范
* 文档类型声明及编码：统一为html5声明类型。书写时利用IDE实现层次分明的缩进（默认缩进2空格）。
* 非特殊情况下CSS文件放在body部分\<head\>标签后。非特殊情况下大部分JS文件放在\<body\>标签尾部（如果需要界面未加载前执行的代码可以放在head标签后）避免行内JS和CSS代码。
* 所有编码需要遵循html（XML）标准，标签&属性&属性命名必须由小写字母及中划线数字组成，且所有标签必须闭合，包括br()，hr()等。属性值用双引号。
* 引入JS库文件，文件名须包含库名称及版本号及是否为压缩版，比如jquery-1.4.1.min.js。引入插件，文件名格式为库名称+插件名称，比如jQuery.bootstrap.js。
* 书写页面过程中，请考虑向后扩展性。class&id参见css书写规范.
* 需要为html元素添加自定义属性的时候，首先要考虑下有没有默认的已有的合适标签去设置，如果没有，可以使用须以"data-"为前缀来添加自定义属性，避免使用"data："等其他命名方式。
* 语义化html，如标题根据重要性用h*(同一页面只能有一个h1)，段落标记用p，列表用ul，内联元素中不可嵌套块级元素。
* 尽可能减少不必要的div多层级嵌套。
* 书写链接地址时，必须避免重定向，例如：href="http://myVue.com/"，即须在URL地址后面加上“/”；
* 在页面中尽量避免使用style属性，即style="…"。
* 必须为含有描述性表单元素(input，textarea)添加label，如姓名：须写成：姓名：
* 能以背景形式呈现的图片，尽量写入css样式中。
* 重要图片必须加上alt属性。给重要的元素和截断的元素加上title。
* 给区块代码及重要功能(比如循环)加上注释，方便后台添加功能。

### CSS规范
* 协作开发及分工：项目主负责人会根据各个模块，同时根据页面相似程序，事先写框架文件，分配给前端人员实现内部结构&表现&行为。共用css文件base.css由主负责人书写，协作开发过程中，每个页面请务必都要引入，此文件包含reset及头部底部样式，此文件不可随意修改。
* class与id的使用：id是唯一的并是父级的，class是可以重复的并是子级的，所以id仅使用在主模块或者需要调用的dom上，class可用在重复使用率高及子级中。另一部分id命名为JS预留钩子的，开发过程中开发人员自行添加。
* 为JS预留钩子的命名，请以j_起始，比如：j-hide，j-show。
* class与id命名：大的框架命名比如header/footer/wrapper/left/right之类的在项目中由主负责人统一命名。其他样式名称由小写英文、中划线、数字来组合命名，如i-comment，fontred，w200。尽量避免使用中文拼音，使用简易的单词组合。总之，命名要语义化，简明化。另附一份参考命名表
* css属性书写顺序，建议遵循：布局定位属性-->自身属性-->文本属性-->其他属性.此条可根据自身习惯书写，但尽量保证同类属性写在一起.属性列举：
> * 布局定位属性主要包括：display&list-style&position（相应的top，right，bottom，left）＆float&clear＆visibility＆overflow；
> * 自身属性主要包括：width&height&margin&padding&border&background。
> * 文本属性主要包括：color&font&text-decoration&text-align&vertical-align&white-space&
> * 其他&content。
* 书写代码前，合理规划提高样式重复使用率。
* 充分利用html自身属性及样式继承原理减少代码量。
* 背景图片请尽可能使用精灵图技术，减小http请求，考虑到多人协作开发，精灵图按模块制作。
* 基于新技术和移动端的业务，可以使用iconfont和svg来替代一些纯色图片，实现更灵活弹性的效果。
* 用png图片做图片时，原则上要求图片格式为png8格式，若png8实在影响图片质量或其中有半透明效果，再使用png24，目的是尽可能的减少图片的体积。
* 相对的减少使用影响性能的属性，比如position：absolute，float。
* 必须为大区块样式添加注释，小区块适量注释。
* 代码缩进与格式：建议一行一个属性书写，方便注释调试效果。

### JS书写规范
* 书写过程过，每行代码结束必须有分号。
* 库引入：原则上仅引入jQuery库，若需引入第三方库，须与团队其他人员讨论决定。
* 变量命名：驼峰式命名.原生JS变量要求是纯英文字母，首字母须小写，如myVue。另要求变量集中声明，避免全局变量。
* 类命名：首字母大写，驼峰式命名.如MyVue。
* 函数命名：首字母小写驼峰式命名.如myVue()。
* 命名语义化，尽可能利用英文单词或其缩写。
* 尽量避免使用存在兼容性及消耗资源的方法或属性，比如eval_r()&innerText。
* 代码结构明了，加适量注释。注意提高函数重用率。
* 注重与html分离，减小reflow，注重浏览器性能。

### 图片规范
* 所有页面元素类图片均放入img文件夹，测试用图片放于demo或其他文件名文件夹。
* 图片格式gif/png/jpg。提倡使用webp文件格式，有条件使用软件进行图片压缩。
* 命名全部用小写英文字母||数字||-的组合；尽量用易懂的词汇，便于团队其他成员理解。
* 在保证视觉效果的情况下选择最小的图片格式与图片质量，以减少加载时间。单个图片文件大小控制在80kb以下。
* 运用css sprite技术集中小的背景图或图标，减小页面http请求，但注意，请务必在对应的精灵图psd源图中划参考线，并保存至img目录下。
* base64可以替代一些小图片，同样也可以起到减少请求的作用。体积过大的不建议使用。